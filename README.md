## ExploreWithMe - сервис, который помогает находить интересные мероприятия и создавать собственные

- Основная идея проекта - сделать свободное время более интересным и продуктивным. 
- Приложение содержит два сервиса:
  * Основной сервис - предназначен для работы с событиями и их участниками. 
  * Сервис статистики - хранит информацию об обращениях к основному сервису. Позволяет формировать статистику для основного сервиса. 

## Дополнительная функциональность

Комментарии к событиям
- позволяет оставлять и модерировать комментарии к событиям,
- позволяет ставить лайки и дизлайки событию,
- позволяет получать количество комментариев у событий для понимания их популярности.
  
- https://github.com/Iregor/java-explore-with-me/pull/9

## Технологический стек

Проект ExploreWithMe разработан с использованием следующих технологий и инструментов:

- Java 11
- Spring Boot
- Hibernate ORM, Query DSL - маппинг данных
- Apache Maven - управление зависимостями и сборка приложения. 
- PostgresSQL, H2 - реляционные базы данных
- Docker, Docker Compose - контейнеризация сервисов приложения.

## Микросервисная архитектура

Приложение состоит из 2 основных модулей:
- Stats - сервер хранения обращений к приложению и формирования статистики
- Service - сервер обработки запросов к приложению

## Установка и запуск проекта

### 1 вариант:
Необходимо настроенная система виртуализации, установленный Docker Desktop(скачать и установить можно с официального сайта https://www.docker.com/products/docker-desktop/)

1. Клонируйте репозиторий проекта на свою локальную машину.
2. Запустите командную строку и перейдите в корень директории с проектом.
3. Введите следующую команду, которая подготовит и запустит приложение на вашей локальной машине
   ```
   $  docker-compose up
   ```
4. Приложение будет запущено на порту 8080 и готово принимать http-запросы. 
5. Список доступных эндпоинтов предоставлен ниже


### 2 вариант:

1. Установите Java Development Kit (JDK) версии 11 или выше, если у вас его еще нет.
2. Установите PostgreSQL и создайте базу данных для проекта.
3. Клонируйте репозиторий проекта на свою локальную машину.
4. Настройте файл `application.properties`, расположенный в директории `src/main/resources`, чтобы указать данные для подключения к вашей базе данных PostgreSQL.
5. Запустите приложение, выполнив следующую команду в корневой директории проекта:
   ```
   mvn spring-boot:run
   ```
6. Приложение будет запущено на порту 8080 и готово принимать http-запросы. 

Эндпоинты
---
- GET /compilations - Получение подборок событий
- GET /compilations/{compId} - Получение подборки событий по его id
---
- POST /admin/categories Добавление новой категории
- DELETE /admin/categories/{catId} Удаление категории
- GET /admin/categories/{catId} Получение списка бронирований для всех вещей текущего пользователя.
---
- GET /users/{userId}/events - Получение событий, добавленных текущим пользователем
- POST /users/{userId}/events - Добавление нового события
- GET /users/{userId}/events/{eventId} - Получение полной информации о событии добавленном текущим пользователем
- PATCH /users/{userId}/events/{eventId} - Изменение события добавленного текущим пользователем
- GET /users/{userId}/events/{eventId}/requests - Получение информации о запросах на участие в событии текущего пользователя
- PATCH /users/{userId}/events/{eventId}/requests - Изменение статуса (подтверждена, отменена) заявок на участие в событии текущего пользователя
---
- GET /categories - Получение категорий
- GET /categories/{catId} - Получение информации о категории по её идентификатору
---
- GET /admin/events - Поиск событий
- PATCH /admin/events/{eventId} - Редактирование данных события и его статуса (отклонение/публикация).
--- 
- GET /events/{id} - Получение подробной информации об опубликованном событии по его идентификатору
- GET /events/{id} - Получение подробной информации об опубликованном событии по его идентификатору
---
- GET /users/{userId}/requests - Получение информации о заявках текущего пользователя на участие в чужих событиях
- POST /users/{userId}/requests - Добавление запроса от текущего пользователя на участие в событии
- DELETE /users/{userId}/requests/{requestId}/cancel - Отмена своего запроса на участие в событии
---
- GET /admin/users - Получение информации о пользователях
- POST /admin/users - Добавление нового пользователя
- DELETE /admin/users/{userId} - Удаление пользователя
---
- POST /admin/compilations - Добавление новой подборки (подборка может не содержать событий)
- DELETE /admin/compilations/{compId} - Удаление подборки
- PATCH /admin/compilations/{compId} - Обновить информацию о подборке
---
- GET /stats - Получение статистики по посещениям
- POST /hit - Сохранение информации о том, что на uri конкретного сервиса был отправлен запрос пользователем.
---
- DELETE /comments/{commentId} - удаление комменатрия администратором
- POST /users/{userId}/events/{eventId}/comments - добавление комментария пользователем событию
- PATCH /users/{userId}/events/{eventId}/comments - редактирование пользователем собственного комментария
- DELETE /users/{userId}/events/{eventId}/comments/{commentId} - удаление комментария пользователем
- GET /comments - получение пользователем списка собственных комментариев
- GET /events/{eventId}/comments/{commentId} - получение комментария по его id
- GET /events/{eventId}/comments - получение списка комментариев события
---
